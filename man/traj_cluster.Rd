% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gg_traj_plot.R
\name{traj_cluster}
\alias{traj_cluster}
\title{Calculate clusters for back trajectories}
\usage{
traj_cluster(
  data,
  method = "Euclid",
  n_cluster = 5,
  facet = NULL,
  split_after = FALSE,
  plot = FALSE,
  ...
)
}
\arguments{
\item{data}{Data frame, the result of importing a trajectory file using
\code{\link[openair:importTraj]{openair::importTraj()}}.}

\item{method}{Method used to calculate the distance matrix for the back
trajectories. There are two methods available: "Euclid" and "Angle".}

\item{n_cluster}{Number of clusters to calculate.}

\item{facet}{One or two faceting columns. \code{facet} determines how the
data are split and then clustered. Note that the cluster calculations are
separately made of each level of "type".}

\item{split_after}{When \code{facet} != \code{NULL}, the trajectories can
either be calculated for each facet independently or extracted after the
cluster calculations have been applied to the whole data set.}

\item{plot}{Automatically plot the clustered trajectories? Defaults to
\code{FALSE}. When \code{TRUE}, a \link[patchwork:patchwork-package]{patchwork}
assemblage is returned. The plots can be controlled using \code{...}.
Alternatively, the output of \code{\link[=traj_cluster]{traj_cluster()}} can be manually passed to
\code{\link[=gg_traj_plot]{gg_traj_plot()}}.}

\item{...}{
  Arguments passed on to \code{\link[=gg_traj_plot]{gg_traj_plot}}
  \describe{
    \item{\code{alpha}}{Transparency of the plots/lines, where \code{1} is completely opaque
and \code{0} is completely transparent.}
    \item{\code{n_points}}{A dot is placed every \code{n_points} along each full
trajectory. For hourly back trajectories points are plotted every
\code{npoint} hours. This helps to understand where the air masses were at
particular times and get a feel for the speed of the air (points closer
together correspond to slower moving air masses). If \code{n_points = NULL}
then no points are added.}
    \item{\code{map}}{Should a base map be drawn? If \code{TRUE} the world base map from
the \code{maps} package is used.}
    \item{\code{map_fill}}{Fill colour of map.}
    \item{\code{map_colour}}{Line colour of map.}
    \item{\code{map_alpha}}{Alpha of map.}
    \item{\code{projection}}{The map projection to be used. Different map projections
are possible through the \code{mapproj} package. See \code{?mapproject} for
extensive details and information on setting other parameters and
orientation (see below).}
  }}
}
\description{
This function carries out cluster analysis of HYSPLIT back trajectories. The
function is specifically designed to work with the trajectories imported
using the \code{\link[openair:importTraj]{openair::importTraj()}} function, which provides pre-calculated
back trajectories at specific receptor locations. Clustered trajectories can
be visualised using \code{\link[=gg_traj_plot]{gg_traj_plot()}}.
}
\seealso{
Other trajectory analysis functions: 
\code{\link{gg_traj_level}()},
\code{\link{gg_traj_plot}()}
}
\concept{trajectory analysis functions}
